
<div id="pricing-table"></div>
       
<script src="https://p.trellocdn.com/power-up.min.js"></script>
<script type="module">
  import {SalablePricingTable} from "https://cdn.salable.app/latest/index.js";
  fetch("/js/constants.json").then(resp => {
    return resp.json()
  }).then(respJson => {
    (async () => {
      const t = TrelloPowerUp.iframe()
      const salable = new SalablePricingTable(
        {
          pricingTableNode: document.querySelector('#pricing-table'),
          productUuid: respJson["salableProductUUID"],
          apiKey: "salableApiKey",
          globalPlanOptions: {
            granteeId: t.arg('member'),
            successUrl: '/success.html',
            cancelUrl: '/cancel.html'
          },
          theme: 'light'
        },
        {
          member: t.arg('member'),
          customer: {
            email: null,
          },
        }
      );
      await salable.init();
    })();
  })
</script>
